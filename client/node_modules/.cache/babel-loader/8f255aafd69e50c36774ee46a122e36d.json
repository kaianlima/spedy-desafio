{"ast":null,"code":"import { all, takeLatest, call, put } from \"redux-saga/effects\";\nimport { fetchClassificadosSuccess, fetchClassificadosFailure, addClassificadoSuccess, addClassificadoFailure } from \"./classificado.actions\";\nimport ClassificadoActionTypes from \"./classificado.types\";\nimport api from \"../../services/api\";\nexport function* fetchClassificadosAsync() {\n  try {\n    const classificados = yield api.get(\"classificados\");\n    yield put(fetchClassificadosSuccess(classificados));\n  } catch (error) {\n    yield put(fetchClassificadosFailure(error.message));\n    throw new Error();\n  }\n}\nexport function* addClassificadoAsync({\n  payload\n}) {\n  try {\n    yield console.log(payload);\n    yield api.post(\"classificados\", payload);\n    yield put(addClassificadoSuccess());\n  } catch (error) {\n    yield put(addClassificadoFailure(error.message));\n  }\n}\nexport function* fetchClassificadosStart() {\n  yield takeLatest(ClassificadoActionTypes.FETCH_CLASSIFICADOS_START, fetchClassificadosAsync);\n}\nexport function* addClassificadoStart() {\n  yield console.log(\"in Saga Start\");\n  yield takeLatest(ClassificadoActionTypes.ADD_CLASSIFICADO_START, addClassificadoAsync);\n}\nexport function* onAddClassificadoSuccess() {\n  yield takeLatest(ClassificadoActionTypes.ADD_CLASSIFICADO_SUCCESS, fetchClassificadosAsync);\n}\nexport function* classificadoSagas() {\n  yield all([call(fetchClassificadosStart), call(addClassificadoStart), call(onAddClassificadoSuccess)]);\n}","map":{"version":3,"sources":["C:/Users/Kaian Lima/ReactApps/spedy-desafio/src/redux/classificado/classificado.sagas.js"],"names":["all","takeLatest","call","put","fetchClassificadosSuccess","fetchClassificadosFailure","addClassificadoSuccess","addClassificadoFailure","ClassificadoActionTypes","api","fetchClassificadosAsync","classificados","get","error","message","Error","addClassificadoAsync","payload","console","log","post","fetchClassificadosStart","FETCH_CLASSIFICADOS_START","addClassificadoStart","ADD_CLASSIFICADO_START","onAddClassificadoSuccess","ADD_CLASSIFICADO_SUCCESS","classificadoSagas"],"mappings":"AAAA,SAASA,GAAT,EAAcC,UAAd,EAA0BC,IAA1B,EAAgCC,GAAhC,QAA2C,oBAA3C;AAEA,SACEC,yBADF,EAEEC,yBAFF,EAGEC,sBAHF,EAIEC,sBAJF,QAKO,wBALP;AAOA,OAAOC,uBAAP,MAAoC,sBAApC;AAEA,OAAOC,GAAP,MAAgB,oBAAhB;AAEA,OAAO,UAAUC,uBAAV,GAAoC;AACzC,MAAI;AACF,UAAMC,aAAa,GAAG,MAAMF,GAAG,CAACG,GAAJ,CAAQ,eAAR,CAA5B;AACA,UAAMT,GAAG,CAACC,yBAAyB,CAACO,aAAD,CAA1B,CAAT;AACD,GAHD,CAGE,OAAOE,KAAP,EAAc;AACd,UAAMV,GAAG,CAACE,yBAAyB,CAACQ,KAAK,CAACC,OAAP,CAA1B,CAAT;AACA,UAAM,IAAIC,KAAJ,EAAN;AACD;AACF;AAED,OAAO,UAAUC,oBAAV,CAA+B;AAAEC,EAAAA;AAAF,CAA/B,EAA4C;AACjD,MAAI;AACF,UAAMC,OAAO,CAACC,GAAR,CAAYF,OAAZ,CAAN;AACA,UAAMR,GAAG,CAACW,IAAJ,CAAS,eAAT,EAA0BH,OAA1B,CAAN;AACA,UAAMd,GAAG,CAACG,sBAAsB,EAAvB,CAAT;AACD,GAJD,CAIE,OAAOO,KAAP,EAAc;AACd,UAAMV,GAAG,CAACI,sBAAsB,CAACM,KAAK,CAACC,OAAP,CAAvB,CAAT;AACD;AACF;AAED,OAAO,UAAUO,uBAAV,GAAoC;AACzC,QAAMpB,UAAU,CACdO,uBAAuB,CAACc,yBADV,EAEdZ,uBAFc,CAAhB;AAID;AAED,OAAO,UAAUa,oBAAV,GAAiC;AACtC,QAAML,OAAO,CAACC,GAAR,CAAY,eAAZ,CAAN;AACA,QAAMlB,UAAU,CACdO,uBAAuB,CAACgB,sBADV,EAEdR,oBAFc,CAAhB;AAID;AAED,OAAO,UAAUS,wBAAV,GAAqC;AAC1C,QAAMxB,UAAU,CACdO,uBAAuB,CAACkB,wBADV,EAEdhB,uBAFc,CAAhB;AAID;AAED,OAAO,UAAUiB,iBAAV,GAA8B;AACnC,QAAM3B,GAAG,CAAC,CACRE,IAAI,CAACmB,uBAAD,CADI,EAERnB,IAAI,CAACqB,oBAAD,CAFI,EAGRrB,IAAI,CAACuB,wBAAD,CAHI,CAAD,CAAT;AAKD","sourcesContent":["import { all, takeLatest, call, put } from \"redux-saga/effects\";\r\n\r\nimport {\r\n  fetchClassificadosSuccess,\r\n  fetchClassificadosFailure,\r\n  addClassificadoSuccess,\r\n  addClassificadoFailure,\r\n} from \"./classificado.actions\";\r\n\r\nimport ClassificadoActionTypes from \"./classificado.types\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nexport function* fetchClassificadosAsync() {\r\n  try {\r\n    const classificados = yield api.get(\"classificados\");\r\n    yield put(fetchClassificadosSuccess(classificados));\r\n  } catch (error) {\r\n    yield put(fetchClassificadosFailure(error.message));\r\n    throw new Error();\r\n  }\r\n}\r\n\r\nexport function* addClassificadoAsync({ payload }) {\r\n  try {\r\n    yield console.log(payload);\r\n    yield api.post(\"classificados\", payload);\r\n    yield put(addClassificadoSuccess());\r\n  } catch (error) {\r\n    yield put(addClassificadoFailure(error.message));\r\n  }\r\n}\r\n\r\nexport function* fetchClassificadosStart() {\r\n  yield takeLatest(\r\n    ClassificadoActionTypes.FETCH_CLASSIFICADOS_START,\r\n    fetchClassificadosAsync\r\n  );\r\n}\r\n\r\nexport function* addClassificadoStart() {\r\n  yield console.log(\"in Saga Start\");\r\n  yield takeLatest(\r\n    ClassificadoActionTypes.ADD_CLASSIFICADO_START,\r\n    addClassificadoAsync\r\n  );\r\n}\r\n\r\nexport function* onAddClassificadoSuccess() {\r\n  yield takeLatest(\r\n    ClassificadoActionTypes.ADD_CLASSIFICADO_SUCCESS,\r\n    fetchClassificadosAsync\r\n  );\r\n}\r\n\r\nexport function* classificadoSagas() {\r\n  yield all([\r\n    call(fetchClassificadosStart),\r\n    call(addClassificadoStart),\r\n    call(onAddClassificadoSuccess),\r\n  ]);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}